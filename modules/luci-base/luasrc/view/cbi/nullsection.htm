<div class="cbi-section">
	<% if self.title and #self.title > 0 then -%>
		<legend><%=self.title%></legend>
	<%- end %>
	<% if self.description and #self.description > 0 then -%>
		<div class="cbi-section-descr"><%=self.description%></div>
	<%- end %>
	<div class="cbi-section-node<% if self.tabs then %> cbi-section-node-tabbed<% end %>">
		<div id="cbi-<%=self.config%>-<%=tostring(self):sub(8)%>">
			<% if self.tabs then %>
				<%+cbi/tabcontainer%>
			<% else %>
				<% self:render_children(1, scope or {}) %>
			<% end %>
		</div>
		<% if self.error and self.error[1] then -%>
			<div class="cbi-section-error">
				<ul><% for _, e in ipairs(self.error[1]) do -%>
					<li>
						<%- if e == "invalid" then -%>
							<%:One or more fields contain invalid values!%>
						<%- elseif e == "missing" then -%>
							<%:One or more required fields have no value!%>
						<%- else -%>
							<%=pcdata(e)%>
						<%- end -%>
					</li>
				<%- end %></ul>
			</div>
		<%- end %>
	</div>
</div>
<%-
	if type(self.hidden) == "table" then
		for k, v in pairs(self.hidden) do
-%>
	<input type="hidden" id="<%=k%>" name="<%=k%>" value="<%=pcdata(v)%>" />
<%-
		end
	end
%>
